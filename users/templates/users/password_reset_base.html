{% extends 'main/base.html' %}

{% block content %}
<div class="password-reset-container">
    {% if view.template_name == 'users/password_reset.html' %}
        <h2>Reset Password</h2>
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Request Password Reset</button>
        </form>

    {% elif view.template_name == 'users/password_reset_done.html' %}
        <h2>Check Your Email</h2>
        <p>We've emailed you instructions for setting your password.</p>
        <p>If you don't receive an email, please make sure you've entered the address you registered with or check your spam.</p>

    {% elif view.template_name == 'users/password_reset_confirm.html' %}
        <h2>Enter New Password</h2>
        {% if validlink %}
            <form method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Change Password</button>
            </form>
        {% else %}
            <p>The password reset link was invalid, possibly because it has already been used.</p>
            <p>Please request a new password reset.</p>
        {% endif %}
    {% elif view.template_name == 'users/password_reset_complete.html' %}
            <h2>Password Reset Complete</h2>
            <p>Your password has been set. You may go ahead and log in now.</p>
            <a href="{% url 'login' %}" class="btn">Log in</a>
    {% endif %}
</div>
{% endblock %}
